@model PRN222_Beverage_Website_Project.Models.Product

@{
    Layout = "~/Views/Shared/UserLayout.cshtml";
    ViewBag.Title = "Chi tiết sản phẩm";
}

<div class="container mt-4">
    <div class="row">
        <!-- Cột hiển thị hình ảnh sản phẩm -->
        <div class="col-md-6 text-center">
            <img src="@Model.ProductImage" alt="@Model.ProductName" class="img-fluid" style="max-width: 100%; height: auto;">
        </div>

        <!-- Cột hiển thị thông tin sản phẩm -->
        <div class="col-md-6">
            <h2>@Model.ProductName</h2>
            <p>@Model.ProductDescription</p>
            <p><strong>Đã bán:</strong> @Model.ProductSoldCount</p>

            <!-- Giá sản phẩm -->
            <h4 class="text-dark">
                Giá: <span id="product-price">@Model.ProductVariants.FirstOrDefault()?.ProductVariantPrice.ToString("N0")</span> VNĐ
            </h4>

            <!-- Chọn kích thước sản phẩm -->
            <p><strong>Chọn kích thước:</strong></p>
            <div class="btn-group" role="group">
                @foreach (var variant in Model.ProductVariants)
                {
                    <button type="button" class="btn size-button @(variant == Model.ProductVariants.FirstOrDefault() ? "selected" : "")"
                            data-price="@variant.ProductVariantPrice"
                            onclick="selectSize(this)">
                        @variant.ProductSize.ProductSizeName
                    </button>
                }
            </div>
        </div>
    </div>
</div>

<!-- JavaScript xử lý thay đổi giá khi chọn size -->
<script>
    function selectSize(button) {
        // Cập nhật giá sản phẩm
        document.getElementById("product-price").innerText = button.getAttribute("data-price");

        // Xóa class selected khỏi tất cả button
        document.querySelectorAll('.size-button').forEach(btn => btn.classList.remove('selected'));

        // Thêm class selected vào button được chọn
        button.classList.add('selected');
    }
</script>

<!-- CSS để giữ chữ rõ ràng -->
<style>
    .size-button {
        padding: 10px 15px;
        font-size: 16px;
        border: 1px solid #ccc;
        background-color: white;
        color: black;
        cursor: pointer;
        transition: all 0.3s ease;
        white-space: nowrap;
        text-align: center;
        margin: 5px;
    }

        .size-button.selected {
            background-color: #ff6600;
            color: white;
            border-color: #ff6600;
        }
</style>
